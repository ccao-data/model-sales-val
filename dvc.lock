schema: '2.0'
stages:
  ingest:
    cmd: uv run --env-file .env python3 src/00_ingest.py
    deps:
    - path: src/00_ingest.py
      hash: md5
      md5: ca762dfd28ec2a0b51ccb44e2071e730
      size: 4387
    - path: src/constants.py
      hash: md5
      md5: 7c69d793d7e5917f4d6413316e64166f
      size: 540
    - path: src/inputs.yaml
      hash: md5
      md5: cb482d3ea8889282ca5880a30261c8c1
      size: 4624
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525
    outs:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: 6fbaf9eca1730771d738c738a92d1821
      size: 9087367
  flag:
    cmd: uv run --env-file .env python3 src/01_flag.py
    deps:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: 6fbaf9eca1730771d738c738a92d1821
      size: 9087367
    - path: src/01_flag.py
      hash: md5
      md5: d09fab143bdc7ce5220d37100cdd7c99
      size: 11785
    - path: src/constants.py
      hash: md5
      md5: 7c69d793d7e5917f4d6413316e64166f
      size: 540
    - path: src/inputs.yaml
      hash: md5
      md5: cb482d3ea8889282ca5880a30261c8c1
      size: 4624
    - path: src/model.py
      hash: md5
      md5: 2c62d8d46102925619eebc81e7d75584
      size: 44748
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525
    outs:
    - path: output/flag.parquet
      hash: md5
      md5: 606d850ef98b63508944009fb5ecc4be
      size: 328774
    - path: output/group_mean.parquet
      hash: md5
      md5: 2f94e90d155515d588e70d81f44d4523
      size: 39663
    - path: output/metadata.parquet
      hash: md5
      md5: e20a40a32d456decd7d70de46255ad8c
      size: 4226
    - path: output/parameter.parquet
      hash: md5
      md5: 393d8942cb2ce32eae5a9a42f9466ee8
      size: 16200
  upload:
    cmd: uv run --env-file .env python3 src/02_upload.py
    deps:
    - path: output/flag.parquet
      hash: md5
      md5: 606d850ef98b63508944009fb5ecc4be
      size: 328774
    - path: output/group_mean.parquet
      hash: md5
      md5: 2f94e90d155515d588e70d81f44d4523
      size: 39663
    - path: output/metadata.parquet
      hash: md5
      md5: e20a40a32d456decd7d70de46255ad8c
      size: 4226
    - path: output/parameter.parquet
      hash: md5
      md5: 393d8942cb2ce32eae5a9a42f9466ee8
      size: 16200
    - path: src/02_upload.py
      hash: md5
      md5: 6d9d84513d3bb7bf9b8bf8e9481fef57
      size: 768
    - path: src/inputs.yaml
      hash: md5
      md5: cb482d3ea8889282ca5880a30261c8c1
      size: 4624
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525

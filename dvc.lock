schema: '2.0'
stages:
  ingest:
    cmd: uv run --env-file .env python3 src/00_ingest.py
    deps:
    - path: src/00_ingest.py
      hash: md5
      md5: 10e870ec16ce2b3afc99115d57b3ea43
      size: 4471
    - path: src/constants.py
      hash: md5
      md5: 83ad1e385406797a8f9787982e9ad533
      size: 512
    - path: src/inputs.yaml
      hash: md5
      md5: cb482d3ea8889282ca5880a30261c8c1
      size: 4624
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525
    outs:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: c801b6b02cad1576cbca55262eadd165
      size: 9081724
  flag:
    cmd: uv run --env-file .env python3 src/01_flag.py
    deps:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: c801b6b02cad1576cbca55262eadd165
      size: 9081724
    - path: src/01_flag.py
      hash: md5
      md5: 40d534d8a939c161ca1ec116312835ea
      size: 11917
    - path: src/constants.py
      hash: md5
      md5: 83ad1e385406797a8f9787982e9ad533
      size: 512
    - path: src/inputs.yaml
      hash: md5
      md5: cb482d3ea8889282ca5880a30261c8c1
      size: 4624
    - path: src/model.py
      hash: md5
      md5: 2c62d8d46102925619eebc81e7d75584
      size: 44748
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525
    outs:
    - path: output/flag.parquet
      hash: md5
      md5: 5c25d5e8f7b29ed9a72677f1f905989c
      size: 328759
    - path: output/group_mean.parquet
      hash: md5
      md5: fd2a310e9815cfd71aee508e76ff2a0b
      size: 39648
    - path: output/metadata.parquet
      hash: md5
      md5: b2129d6ff9b212da693e9af1eebe908b
      size: 4211
    - path: output/parameter.parquet
      hash: md5
      md5: f0863ae615f4cefb9136c071511a6c4c
      size: 16185
  upload:
    cmd: uv run --env-file .env python3 src/02_upload.py
    deps:
    - path: output/flag.parquet
      hash: md5
      md5: 5c25d5e8f7b29ed9a72677f1f905989c
      size: 328759
    - path: output/group_mean.parquet
      hash: md5
      md5: fd2a310e9815cfd71aee508e76ff2a0b
      size: 39648
    - path: output/metadata.parquet
      hash: md5
      md5: b2129d6ff9b212da693e9af1eebe908b
      size: 4211
    - path: output/parameter.parquet
      hash: md5
      md5: f0863ae615f4cefb9136c071511a6c4c
      size: 16185
    - path: src/02_upload.py
      hash: md5
      md5: e538ceae957e484de4cfa31a6088b29c
      size: 865
    - path: src/inputs.yaml
      hash: md5
      md5: cb482d3ea8889282ca5880a30261c8c1
      size: 4624
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525

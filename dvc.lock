schema: '2.0'
stages:
  ingest:
    cmd: uv run --env-file .env python3 src/00_ingest.py
    deps:
    - path: src/00_ingest.py
      hash: md5
      md5: ca762dfd28ec2a0b51ccb44e2071e730
      size: 4387
    - path: src/constants.py
      hash: md5
      md5: 7c69d793d7e5917f4d6413316e64166f
      size: 540
    - path: src/inputs.yaml
      hash: md5
      md5: 52a7d0a4834fcaef9803c443db6f3c56
      size: 4802
    - path: src/utils.py
      hash: md5
      md5: 3e360a2cfb99d1578ff0930883f9ba35
      size: 21770
    outs:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: 2a7ba5cfc8a00a47ab20ec3d313ea886
      size: 9271421
  flag:
    cmd: uv run --env-file .env python3 src/01_flag.py
    deps:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: 2a7ba5cfc8a00a47ab20ec3d313ea886
      size: 9271421
    - path: src/01_flag.py
      hash: md5
      md5: 3006e84f14b22c039603e332c22da54d
      size: 12656
    - path: src/constants.py
      hash: md5
      md5: 7c69d793d7e5917f4d6413316e64166f
      size: 540
    - path: src/inputs.yaml
      hash: md5
      md5: 52a7d0a4834fcaef9803c443db6f3c56
      size: 4802
    - path: src/model.py
      hash: md5
      md5: 2c62d8d46102925619eebc81e7d75584
      size: 44748
    - path: src/utils.py
      hash: md5
      md5: 3e360a2cfb99d1578ff0930883f9ba35
      size: 21770
    outs:
    - path: output/flag.parquet
      hash: md5
      md5: 57c3d3abccbc4d6f49acbe863b5085bf
      size: 885726
    - path: output/group_mean.parquet
      hash: md5
      md5: ac1681653466cbec1eeeba03f81e480b
      size: 332880
    - path: output/metadata.parquet
      hash: md5
      md5: 57a987a766adbf4c0fd9eb93ee61f751
      size: 5143
    - path: output/parameter.parquet
      hash: md5
      md5: 3933137479d6365c82051eda5642a6ac
      size: 16137
  upload:
    cmd: uv run --env-file .env python3 src/02_upload.py
    deps:
    - path: output/flag.parquet
      hash: md5
      md5: 57c3d3abccbc4d6f49acbe863b5085bf
      size: 885726
    - path: output/group_mean.parquet
      hash: md5
      md5: ac1681653466cbec1eeeba03f81e480b
      size: 332880
    - path: output/metadata.parquet
      hash: md5
      md5: 57a987a766adbf4c0fd9eb93ee61f751
      size: 5143
    - path: output/parameter.parquet
      hash: md5
      md5: 3933137479d6365c82051eda5642a6ac
      size: 16137
    - path: src/02_upload.py
      hash: md5
      md5: 6d9d84513d3bb7bf9b8bf8e9481fef57
      size: 768
    - path: src/inputs.yaml
      hash: md5
      md5: 52a7d0a4834fcaef9803c443db6f3c56
      size: 4802
    - path: src/utils.py
      hash: md5
      md5: 3e360a2cfb99d1578ff0930883f9ba35
      size: 21770

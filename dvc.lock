schema: '2.0'
stages:
  ingest:
    cmd: uv run --env-file .env python3 src/00_ingest.py
    deps:
    - path: src/00_ingest.py
      hash: md5
      md5: d37e705b13e7973dcb45ee6bb3467763
      size: 4579
    - path: src/constants.py
      hash: md5
      md5: dd78b5e706b8569494e9b6860fa4311e
      size: 417
    - path: src/inputs.yaml
      hash: md5
      md5: 575ae8dadbd7838d8e710e9120759d0d
      size: 4624
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525
    outs:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: 250158fa29573eea771bb0c2375bbfd1
      size: 13290293
  flag:
    cmd: uv run --env-file .env python3 src/01_flag.py
    deps:
    - path: input/sales_ingest.parquet
      hash: md5
      md5: 250158fa29573eea771bb0c2375bbfd1
      size: 13290293
    - path: src/01_flag.py
      hash: md5
      md5: 61a2ac6f96cc83e1b3ebbe63b209258c
      size: 11652
    - path: src/constants.py
      hash: md5
      md5: dd78b5e706b8569494e9b6860fa4311e
      size: 417
    - path: src/inputs.yaml
      hash: md5
      md5: 575ae8dadbd7838d8e710e9120759d0d
      size: 4624
    - path: src/model.py
      hash: md5
      md5: 2c62d8d46102925619eebc81e7d75584
      size: 44748
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525
    outs:
    - path: output/df_group_mean_to_write.parquet
      hash: md5
      md5: 7534920a9e63d403eec63262af1683f5
      size: 53704
    - path: output/df_metadata.parquet
      hash: md5
      md5: 278430321f6f5de4aabff7d86552bac3
      size: 4216
    - path: output/df_parameter.parquet
      hash: md5
      md5: c40c2282df29a0401f4d7a97c7615072
      size: 16190
    - path: output/df_to_write.parquet
      hash: md5
      md5: 5d1d67090a94d389f5b50ea0e5d69de8
      size: 537223
  upload:
    cmd: uv run --env-file .env python3 src/02_upload.py
    deps:
    - path: output/df_group_mean_to_write.parquet
      hash: md5
      md5: 7534920a9e63d403eec63262af1683f5
      size: 53704
    - path: output/df_metadata.parquet
      hash: md5
      md5: 278430321f6f5de4aabff7d86552bac3
      size: 4216
    - path: output/df_parameter.parquet
      hash: md5
      md5: c40c2282df29a0401f4d7a97c7615072
      size: 16190
    - path: output/df_to_write.parquet
      hash: md5
      md5: 5d1d67090a94d389f5b50ea0e5d69de8
      size: 537223
    - path: src/02_upload.py
      hash: md5
      md5: 7293d5763d7c8cec0df59f1304ed7ce7
      size: 1166
    - path: src/inputs.yaml
      hash: md5
      md5: 575ae8dadbd7838d8e710e9120759d0d
      size: 4624
    - path: src/utils.py
      hash: md5
      md5: 075eb769fd7349744770bf6defc3bc3e
      size: 21525
